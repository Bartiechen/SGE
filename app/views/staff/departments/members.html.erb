<p id="notice"><%= notice %></p>
<% provide(:page_title, 'Membros do Departamentos') %>
<div class="form-group">
  <%= simple_form_for(:member, url: staff_department_members_path(@department),
                      method: :post) do |f| %>
    <label class="form-label">Adicionar Membros ao Departamento</label>
    <div class="row gutters-xs">
      <div class="col">
        <%= f.input :user,
                    collection: @no_members,
                    class: 'form-control custom-select',
                    label: false %>
      </div>
      <div class="col">
        <%= f.input :role,
                    collection: @roles,
                    class: 'form-control custom-select',
                    label: false %>
      </div>

      <span class="col-auto">
      <%= button_tag(type: 'submit', class: 'btn btn-primary',
                     'data-toggle': "tooltip", 'data-placement': "bottom",
                     'title': "Adicionar Membro ao Departamento") do %>
        <i class="fe fe-user-plus"></i>
        <% end %>
      </span>
    </div>
  <% end %>
</div>

<div class="row">
  <div class="col">
    <% @members.each do |member| %>
      <div class="col tag mt-1">
        <span class="col-6">
          <%= member.name %>
        </span>
        <span class="col-5 tag-addon tag-info">
          <%= member.role_by(@department).name %>
        </span>
        <%= link_to staff_department_remove_member_path(@department, member),
                    method: :delete, class: 'col-1 tag-addon',
                    'data-toggle': "tooltip", 'data-placement': "bottom",
                    'title': "Remover Membro" do %>
          <i class="fe fe-x"></i>
        <% end %>
      </div>
    <% end %>
  </div>
</div>